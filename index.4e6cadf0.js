const MOUSE_PRIMARY_BUTTON=1,DRAGGABLE_ITEM_COORDS_OFFSET=50,BORDER_WIDTH=1,dragAreaEl=document.getElementById("drag-area"),dropAreaGridEl=document.getElementById("drop-area_grid"),dropAreaCanvasEl=document.getElementById("drop-area_canvas"),draggableItemEl=document.getElementById("draggable-item");let pointerId=null;function onDocumentPointerUp(e){e.pointerId===pointerId&&(pointerId=null,document.removeEventListener("pointerup",onDocumentPointerUp),document.removeEventListener("pointermove",onDocumentPointerMove),doesDraggableItemCollideWithDropArea(dropAreaGridEl,!1)?dropDraggableItem(dropAreaGridEl):doesDraggableItemCollideWithDropArea(dropAreaCanvasEl,!0)&&dropDraggableItem(dropAreaCanvasEl),setDraggableItemVisible(!1),setDropAreaHighlighted(dropAreaGridEl,!1),setDropAreaHighlighted(dropAreaCanvasEl,!1))}function dropDraggableItem(e){const t=document.createElement("div");t.className="dropped-item",t.style.backgroundColor=draggableItemEl.style.backgroundColor,e===dropAreaGridEl?t.classList.add("dropped-item_grid"):(t.classList.add("dropped-item_canvas"),setDroppedItemCoordsMappedToDropAreaCanvas(t,e)),e.appendChild(t)}function setDroppedItemCoordsMappedToDropAreaCanvas(e,t){if(t!==dropAreaCanvasEl)return;const r=t.getBoundingClientRect(),o=parseInt(draggableItemEl.style.top,10)-r.top-1+t.scrollTop,a=parseInt(draggableItemEl.style.left,10)-r.left-1+t.scrollLeft;e.style.top=`${o}px`,e.style.left=`${a}px`}function onDocumentPointerMove(e){e.pointerId===pointerId&&(setDraggableItemCoords(e.pageX,e.pageY),updateDropAreasHighlighting())}function updateDropAreasHighlighting(){doesDraggableItemCollideWithDropArea(dropAreaGridEl,!1)?(setDropAreaHighlighted(dropAreaGridEl,!0),setDropAreaHighlighted(dropAreaCanvasEl,!1)):doesDraggableItemCollideWithDropArea(dropAreaCanvasEl,!0)?(setDropAreaHighlighted(dropAreaGridEl,!1),setDropAreaHighlighted(dropAreaCanvasEl,!0)):(setDropAreaHighlighted(dropAreaGridEl,!1),setDropAreaHighlighted(dropAreaCanvasEl,!1))}function doesDraggableItemCollideWithDropArea(e,t){const r=draggableItemEl.getBoundingClientRect(),o=e.getBoundingClientRect();return t?r.top>o.top&&r.right<o.right&&r.bottom<o.bottom&&r.left>o.left:!(r.top>o.bottom||r.right<o.left||r.bottom<o.top||r.left>o.right)}function setDropAreaHighlighted(e,t){t?e.classList.add("drop-area_highlighted"):e.classList.remove("drop-area_highlighted")}function getRandomColor(){const e=["#"];for(let t=0;t<6;t++)e.push(Math.floor(16*Math.random()).toString(16));return e.join("")}function setDraggableItemVisible(e){e?draggableItemEl.classList.remove("draggable-item_hidden"):draggableItemEl.classList.add("draggable-item_hidden")}function setDraggableItemCoords(e,t){draggableItemEl.style.top=t-50+"px",draggableItemEl.style.left=e-50+"px"}function onDocumentPointerCancel(e){e.pointerId===pointerId&&(pointerId=null,document.removeEventListener("pointerup",onDocumentPointerUp),document.removeEventListener("pointermove",onDocumentPointerMove),document.removeEventListener("pointercancel",onDocumentPointerCancel),setDraggableItemVisible(!1),setDropAreaHighlighted(dropAreaGridEl,!1),setDropAreaHighlighted(dropAreaCanvasEl,!1))}function onDragAreaPointerDown(e){null===pointerId&&("mouse"!==e.pointerType||1&e.buttons)&&(pointerId=e.pointerId,document.addEventListener("pointerup",onDocumentPointerUp),document.addEventListener("pointermove",onDocumentPointerMove),document.addEventListener("pointercancel",onDocumentPointerCancel),draggableItemEl.style.backgroundColor=getRandomColor(),setDraggableItemCoords(e.pageX,e.pageY),setDraggableItemVisible(!0))}dragAreaEl.addEventListener("pointerdown",onDragAreaPointerDown);
//# sourceMappingURL=index.4e6cadf0.js.map
